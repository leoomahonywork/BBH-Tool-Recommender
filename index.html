<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BBH Data Tool Recommender</title>
    <!-- Use Tailwind CSS for a modern, responsive design -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f7fafc;
        }
        .container {
            max-width: 800px;
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen p-4">
    <div class="container w-full p-8 bg-white rounded-xl shadow-2xl space-y-6">
        <h1 class="text-3xl font-bold text-gray-900 text-center">BBH Data Tool Recommender</h1>
        <p class="text-gray-600 text-center">
            Describe your strategic question or challenge below, and I will recommend the best tool or combination of tools from our list.
        </p>

        <!-- User input area -->
        <div class="space-y-4">
            <label for="user-query" class="block text-sm font-medium text-gray-700">Your Strategic Question:</label>
            <textarea
                id="user-query"
                rows="4"
                class="w-full p-4 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-200 resize-none"
                placeholder="e.g., 'What are the latest consumer trends in the UK for the food and beverage industry, and how are our competitors' brands performing in social media discussions?'"
            ></textarea>
            <button
                id="submit-button"
                class="w-full px-6 py-3 bg-blue-600 text-white font-bold rounded-lg shadow-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-200"
            >
                Get Recommendation
            </button>
        </div>

        <!-- AI response area -->
        <div id="ai-response" class="hidden mt-8 p-6 bg-gray-50 border border-gray-200 rounded-lg shadow-inner">
            <h2 class="text-xl font-semibold text-gray-800 mb-2">Recommendation:</h2>
            <div id="response-content" class="text-gray-800 leading-relaxed"></div>
        </div>
    </div>

    <script>
        // --- DATA & KNOWLEDGE BASE ---
        const toolDescriptions = [
            {
                name: "TGI UK",
                description: "Comprehensive consumer research for deep insights into UK lifestyles, attitudes, and media consumption. Best for defining and segmenting UK audiences.",
                keywords: ["consumer", "attitudes", "demographics", "lifestyles", "media", "audience", "planning"],
                geography: "UK",
                categories: [],
            },
            {
                name: "Nielsen",
                description: "Global leader in media analytics, tracking TV, radio, and digital consumption. Crucial for optimizing media plans and competitive benchmarking.",
                keywords: ["audience", "media", "tv", "radio", "digital", "ad effectiveness", "competitive benchmarking", "retail"],
                geography: "Global",
                categories: ["retail"],
            },
            {
                name: "Factiva",
                description: "Premium news aggregation for business intelligence. Use it for trend-spotting, competitive analysis, and tracking industry developments from global news sources.",
                keywords: ["news", "business", "competitive analysis", "industry", "developments", "trends"],
                geography: "Global",
                categories: ["all"],
            },
            {
                name: "YouGov BrandIndex",
                description: "Provides survey-based data on brand perceptions and opinions. Ideal for validating audience assumptions and benchmarking brand sentiment against competitors.",
                keywords: ["survey", "audience", "brand perceptions", "sentiment", "benchmarking", "brand health"],
                geography: "Global",
                categories: ["all"],
            },
            {
                name: "Financial Times",
                description: "A trusted source of global business and financial news. Valuable for tracking macroeconomic trends and building informed narratives for clients in finance or tech.",
                keywords: ["financial", "business", "economic", "trends", "tech", "finance"],
                geography: "Global",
                categories: ["finance", "tech"],
            },
            {
                name: "Mintel",
                description: "Expert market intelligence with detailed industry reports and consumer trends. Great for uncovering innovation opportunities and competitive analysis.",
                keywords: ["market intelligence", "consumer trends", "competitive analysis", "innovation", "report", "industry"],
                geography: "Global",
                categories: ["food & beverage", "beauty", "retail", "tech", "fashion", "luxury", "fmcg"],
            },
            {
                name: "GMID (Euromonitor)",
                description: "Comprehensive international market data. Essential for a macro-level understanding of markets and for global or regional campaigns.",
                keywords: ["international", "global", "regional", "market data", "economic", "consumer trends", "gmid", "euromonitor"],
                geography: "Global",
                categories: ["all"],
            },
            {
                name: "Foresight Factory",
                description: "A trend forecasting service that analyzes cultural, social, and technological trends. Helps brands stay ahead of change and develop trend-informed creative briefs.",
                keywords: ["trends", "forecasting", "cultural", "social", "technological", "consumer behavior"],
                geography: "Global",
                categories: ["all"],
            },
            {
                name: "Contagious",
                description: "A marketing intelligence platform for innovative and effective advertising campaigns. Use for inspiration and to benchmark creative excellence.",
                keywords: ["marketing", "advertising", "inspiration", "creative", "campaigns", "effectiveness"],
                geography: "Global",
                categories: ["all"],
            },
            {
                name: "Netbase Quid",
                description: "Social media analytics and consumer intelligence. Uses AI to monitor online conversations, sentiment, and trends in real-time. Ideal for culturally-tuned and reactive campaigns.",
                keywords: ["social media", "sentiment", "online conversations", "trends", "brands", "buzz", "influencers", "analytics", "twitter", "instagram"],
                geography: "Global",
                categories: ["all"],
            },
            {
                name: "WARC",
                description: "Go-to source for advertising effectiveness insights. Contains case studies, best practices, and strategic frameworks to back up recommendations with proven evidence.",
                keywords: ["advertising", "effectiveness", "case studies", "media planning", "strategy"],
                geography: "Global",
                categories: ["all"],
            },
            {
                name: "Statista",
                description: "A statistics portal for quick, reliable charts and figures. Aggregates data from over 22,500 sources for presentations and validating assumptions.",
                keywords: ["statistics", "charts", "figures", "market size", "data points", "trends", "reports", "industries"],
                geography: "Global",
                categories: ["all"],
            },
            {
                name: "GWI (GlobalWebIndex)",
                description: "Provides rich data on online consumer behavior, psychographics, media consumption, and brand attitudes across demographics and global markets. A go-to for detailed audience segments.",
                keywords: ["online behavior", "psychographics", "demographics", "audience segments", "global", "online", "internet", "gwi", "attitudes"],
                geography: "Global",
                categories: ["all"],
            },
        ];

        // Mappings for a more flexible matching
        const geoMappings = {
            "uk": ["uk", "great britain", "england", "scotland", "wales"],
            "usa": ["us", "usa", "united states", "america"],
            "china": ["china", "chinese"],
            "japan": ["japan", "japanese"],
            "france": ["france", "french"],
            "brazil": ["brazil", "brazilian"],
            "germany": ["germany", "german"],
            "india": ["india", "indian"],
            "spain": ["spain", "spanish"],
            "global": ["global", "international", "worldwide"]
        };

        const categoryMappings = {
            "food & beverage": ["food", "beverage", "ice cream", "drinks", "snacks", "fmcg"],
            "beauty": ["beauty", "cosmetics", "skincare", "makeup"],
            "retail": ["retail", "shopping", "ecommerce"],
            "finance": ["finance", "banking"],
            "tech": ["tech", "technology"],
            "luxury": ["luxury", "high-end", "premium"],
            "fashion": ["fashion", "apparel"],
            "media": ["media", "tv", "radio", "social media", "digital", "advertising"],
        };

        const audienceMappings = {
            "consumer": ["consumer", "customer", "audience", "demographics", "lifestyles"],
            "trends": ["trends", "forecasting", "future"],
            "brand": ["brand", "sentiment", "brand health", "perception", "benchmarking"],
            "social": ["social media", "online conversations", "sentiment", "social listening"],
            "market": ["market", "market size", "industry", "sector", "competitive", "competitors"]
        };

        // --- RECOMMENDATION LOGIC ---
        function getRecommendation(query) {
            const lowerCaseQuery = query.toLowerCase();
            const scores = {};

            // Initialize scores for all tools
            toolDescriptions.forEach(tool => {
                scores[tool.name] = { score: 0, matches: new Set() };
            });

            // Score based on geography
            let detectedGeography = null;
            for (const geo in geoMappings) {
                if (geoMappings[geo].some(keyword => lowerCaseQuery.includes(keyword))) {
                    detectedGeography = geo;
                    break;
                }
            }
            if (detectedGeography && detectedGeography !== "uk") {
                scores["GWI (GlobalWebIndex)"].score += 2;
                scores["Mintel"].score += 2;
                scores["GMID (Euromonitor)"].score += 2;
                scores["Statista"].score += 1;
            } else if (detectedGeography === "uk") {
                scores["TGI UK"].score += 3;
            }

            // Score based on categories
            for (const category in categoryMappings) {
                if (categoryMappings[category].some(keyword => lowerCaseQuery.includes(keyword))) {
                    toolDescriptions.forEach(tool => {
                        if (tool.categories.includes(category) || tool.categories.includes("all")) {
                            scores[tool.name].score += 2;
                            scores[tool.name].matches.add(category);
                        }
                    });
                }
            }

            // Score based on keyword groups
            for (const group in audienceMappings) {
                if (audienceMappings[group].some(keyword => lowerCaseQuery.includes(keyword))) {
                    toolDescriptions.forEach(tool => {
                        if (tool.keywords.some(keyword => audienceMappings[group].includes(keyword))) {
                            scores[tool.name].score += 1;
                            scores[tool.name].matches.add(group);
                        }
                    });
                }
            }

            // Rank tools by score
            const rankedTools = Object.keys(scores)
                .map(name => ({ name, ...scores[name] }))
                .sort((a, b) => b.score - a.score)
                .filter(tool => tool.score > 0);

            if (rankedTools.length === 0) {
                return "I couldn't find a specific tool for your request. For general information, consider using **Statista** for quick data or **Mintel** for detailed industry reports.";
            }

            // Generate recommendation text
            let recommendationText = "Based on your strategic question, I recommend the following tool(s):<br><br>";
            
            const topTool = rankedTools[0];
            recommendationText += `<b>${topTool.name}</b>: ${toolDescriptions.find(t => t.name === topTool.name).description}<br><br>`;

            if (rankedTools.length > 1) {
                const secondaryTools = rankedTools.slice(1).filter(tool => tool.score >= topTool.score * 0.75);
                if (secondaryTools.length > 0) {
                    recommendationText += "For a more comprehensive view, also consider using:<br><br>";
                    secondaryTools.forEach(tool => {
                        recommendationText += `<b>${tool.name}</b>: ${toolDescriptions.find(t => t.name === tool.name).description}<br><br>`;
                    });
                }
            }
            
            return recommendationText;
        }

        // --- UI LOGIC ---
        document.addEventListener('DOMContentLoaded', () => {
            const userQueryEl = document.getElementById('user-query');
            const submitButton = document.getElementById('submit-button');
            const aiResponseEl = document.getElementById('ai-response');
            const responseContentEl = document.getElementById('response-content');

            submitButton.addEventListener('click', async () => {
                const userQuery = userQueryEl.value.trim();
                if (!userQuery) {
                    alert('Please enter your strategic question.');
                    return;
                }

                const recommendation = getRecommendation(userQuery);
                responseContentEl.innerHTML = recommendation;
                aiResponseEl.classList.remove('hidden');
            });
        });
    </script>
</body>
</html>
